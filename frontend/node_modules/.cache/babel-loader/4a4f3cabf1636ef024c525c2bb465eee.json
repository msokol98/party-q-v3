{"ast":null,"code":"var _jsxFileName = \"/home/mitchell/party-q/frontend/src/components/WebSocketClient/WebSocketClient.js\",\n    _s = $RefreshSig$();\n\nimport { update } from 'lodash';\nimport React, { useState } from 'react';\nimport { useEffect } from 'react';\nimport SockJsClient from 'react-stomp';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst WebSocketClient = ({\n  onUpdate,\n  outgoingUpdate,\n  partyId\n}) => {\n  _s();\n\n  const [client, setClient] = useState();\n  useEffect(() => {\n    if (outgoingUpdate) {\n      client.sendMessage(`/ws/party-update/${partyId}`, outgoingUpdate);\n    }\n  }, [outgoingUpdate]);\n  const SOCKET_URL = 'http://localhost:8080/ws';\n  const topics = [`/topic/party-updates`];\n\n  const onConnect = () => console.log(\"Connected with WS\");\n\n  const onDisconnect = () => console.log(\"Disconnected from WS\");\n\n  return /*#__PURE__*/_jsxDEV(SockJsClient, {\n    url: SOCKET_URL,\n    topics: topics,\n    onConnect: onConnect,\n    onDisconnect: onDisconnect,\n    onMessage: onUpdate,\n    debug: false,\n    ref: setClient\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 9\n  }, this);\n};\n\n_s(WebSocketClient, \"pdIeLTIl+YkbJRMXZiLvSQkh/co=\");\n\n_c = WebSocketClient;\nexport default WebSocketClient;\n\nvar _c;\n\n$RefreshReg$(_c, \"WebSocketClient\");","map":{"version":3,"sources":["/home/mitchell/party-q/frontend/src/components/WebSocketClient/WebSocketClient.js"],"names":["update","React","useState","useEffect","SockJsClient","WebSocketClient","onUpdate","outgoingUpdate","partyId","client","setClient","sendMessage","SOCKET_URL","topics","onConnect","console","log","onDisconnect"],"mappings":";;;AAAA,SAASA,MAAT,QAAuB,QAAvB;AACA,OAAOC,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,OAAOC,YAAP,MAAyB,aAAzB;;;AAEA,MAAMC,eAAe,GAAG,CAAC;AAAEC,EAAAA,QAAF;AAAYC,EAAAA,cAAZ;AAA4BC,EAAAA;AAA5B,CAAD,KAA2C;AAAA;;AAE/D,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBR,QAAQ,EAApC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAGI,cAAH,EAAmB;AACfE,MAAAA,MAAM,CAACE,WAAP,CAAoB,oBAAmBH,OAAQ,EAA/C,EAAkDD,cAAlD;AACH;AACJ,GAJQ,EAIN,CAACA,cAAD,CAJM,CAAT;AAMA,QAAMK,UAAU,GAAG,0BAAnB;AACA,QAAMC,MAAM,GAAE,CAAE,sBAAF,CAAd;;AAEA,QAAMC,SAAS,GAAG,MAAMC,OAAO,CAACC,GAAR,CAAY,mBAAZ,CAAxB;;AACA,QAAMC,YAAY,GAAG,MAAMF,OAAO,CAACC,GAAR,CAAY,sBAAZ,CAA3B;;AAEA,sBACI,QAAC,YAAD;AACI,IAAA,GAAG,EAAEJ,UADT;AAEI,IAAA,MAAM,EAAEC,MAFZ;AAGI,IAAA,SAAS,EAAEC,SAHf;AAII,IAAA,YAAY,EAAEG,YAJlB;AAKI,IAAA,SAAS,EAAEX,QALf;AAMI,IAAA,KAAK,EAAE,KANX;AAOI,IAAA,GAAG,EAAEI;AAPT;AAAA;AAAA;AAAA;AAAA,UADJ;AAWH,CA3BD;;GAAML,e;;KAAAA,e;AA6BN,eAAeA,eAAf","sourcesContent":["import { update } from 'lodash';\nimport React, { useState } from 'react';\nimport { useEffect } from 'react';\nimport SockJsClient from 'react-stomp';\n\nconst WebSocketClient = ({ onUpdate, outgoingUpdate, partyId }) => {\n\n    const [client, setClient] = useState();\n\n    useEffect(() => {\n        if(outgoingUpdate) {\n            client.sendMessage(`/ws/party-update/${partyId}`, outgoingUpdate);\n        }\n    }, [outgoingUpdate]);\n\n    const SOCKET_URL = 'http://localhost:8080/ws';\n    const topics =[`/topic/party-updates`];\n\n    const onConnect = () => console.log(\"Connected with WS\");\n    const onDisconnect = () => console.log(\"Disconnected from WS\");\n\n    return(\n        <SockJsClient\n            url={SOCKET_URL}\n            topics={topics}\n            onConnect={onConnect}\n            onDisconnect={onDisconnect}\n            onMessage={onUpdate}\n            debug={false}\n            ref={setClient}\n        />\n    );\n}\n \nexport default WebSocketClient;"]},"metadata":{},"sourceType":"module"}